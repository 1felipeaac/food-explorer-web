Trilha Explorer - Desafio Final

Author: Felipe Augusto de Araujo Coelho
Layout Figma: https://www.figma.com/community/file/1196874589259687769/food-explorer-v2
Deploy:
DependÃªncias:
Axios
Styled Components
React
Swiper

Conceito Mobile First

AplicaÃ§Ã£o feita usando React+Vite

# Estrutura do Projeto

- ## PÃ¡ginas:

1.  > <h3 id="signin">SignIn</h3>

    | hooks        | componentes   | funÃ§Ãµes     | assets | dependÃªncias |
    | ------------ | ------------- | ----------- | ------ | ------------ |
    | { useState } | { Hyperlink } | { useAuth } |        |              |
    |              | { Button }    |             |        |              |
    |              | { Input }     |             |        |              |
    |              | { Logo }      |             |        |              |
    |              | { Container } |             |        |              |
    [ðŸ“’](#funcionamento)
2.  > <h3 id="signup">SignUp</h3>

    | hooks        | componentes   | funÃ§Ãµes         | assets | dependÃªncias |
    | ------------ | ------------- | --------------- | ------ | ------------ |
    | { useState } | { Hyperlink } | { useAuth }     |        |              |
    |              | { Button }    | { api }         |        |              |
    |              | { Input }     | { useNavigate } |        |              |
    |              | { Logo }      |                 |        |              |
    |              | { Container } |                 |        |              |
    [ðŸ“’](#funcionamento)

3.  > <h3 id="home">Home</h3>

    | hooks        | componentes   | funÃ§Ãµes     | assets | dependÃªncias |
    | ------------ | ------------- | ----------- | ------ | ------------ |
    | { useEffect} | { Header }    | { useAuth } | home   |              |
    | { useState } | { Footer }    | { api }     |        |              |
    |              | { Slider }    |             |        |              |
    |              | { Container } |             |        |              |
    [ðŸ“’](#funcionamento)

4.  > <h3 id="details">Details</h3>

    | hooks        | componentes      | funÃ§Ãµes       | assets | dependÃªncias      |
    | ------------ | ---------------- | ------------- | ------ | ----------------- |
    | { useEffect} | { Header }       | { api }       | empty  |                   |
    | { useState } | { Button }       | { useAuth }   | back   |                   |
    |              | { Container }    | { useParams } |        |                   |
    |              | { ReactSVG }     |               |        | `npm i react-svg` |
    |              | { Tags }         |               |        |                   |
    |              | { InputCounter } |               |        |                   |
    |              | { Hyperlink }    |               |        |                   |
    |              | { Footer }       |               |        |                   |
    [ðŸ“’](#funcionamento)

5.  > <h3 id="newdish">NewDish</h3>

    | hooks        | componentes     | funÃ§Ãµes         | assets    | dependÃªncias      |
    | ------------ | --------------- | --------------- | --------- | ----------------- |
    | { useState } | { Header }      | { api }         | upload    |                   |
    |              | { Button }      | { useNavigate } | arrowLeft |                   |
    |              | { Container }   |                 |           |                   |
    |              | { ReactSVG }    |                 |           | `npm i react-svg` |
    |              | { Select }      |                 |           |                   |
    |              | { Hyperlink }   |                 |           |                   |
    |              | { Ingredients } |                 |           |                   |
    |              | { Textarea }    |                 |           |                   |
    |              | { Input }       |                 |           |                   |
    |              | { Footer }      |                 |           |                   |
    [ðŸ“’](#funcionamento)

6.  > <h3 id="editdish">EditDish</h3>

    | hooks         | componentes     | funÃ§Ãµes         | assets    | dependÃªncias      |
    | ------------- | --------------- | --------------- | --------- | ----------------- |
    | { useState}   | { Header }      | { api }         | upload    |                   |
    | { useEffect } | { Button }      | { useParams }   | arrowLeft |                   |
    |               | { Container }   | { useNavigate } |           |                   |
    |               | { ReactSVG }    |                 |           | `npm i react-svg` |
    |               | { Select }      |                 |           |                   |
    |               | { Hyperlink }   |                 |           |                   |
    |               | { Ingredients } |                 |           |                   |
    |               | { Textarea }    |                 |           |                   |
    |               | { Input }       |                 |           |                   |
    |               | { Footer }      |                 |           |                   |
    [ðŸ“’](#funcionamento)

7. > <h3 id="notfound">NotFound</h3>

    | hooks         | componentes     | funÃ§Ãµes         | assets    | dependÃªncias      |
    | ------------- | --------------- | --------------- | --------- | ----------------- |
    |               | { Link }        |                 |           | `npm i react-router-dom` |
    |               | { Container }   |  |           |                   |
    [ðŸ“’](#funcionamento)

- ## Componentes:

1.  > <h3 id="button">Button</h3>

    | props       | componentes   | funÃ§Ãµes                  | assets | dependÃªncias |
    | ----------- | ------------- | ------------------------ | ------ | ------------ |
    | { title }   | { Container } |                          |        |              |
    | { id }      | { Link }      |                          |        |`npm i react-router-dom`|
    | { icon }    |               |                          |        |              |
    | {toPage}    |               |                          |        |              |
    | { ...rest } |               |                          |        |              |
    [ðŸ“’](#funcionamento)
2.  > <h3 id="card">CardDish</h3>

    | props           | componentes      | funÃ§Ãµes                  | assets | dependÃªncias |
    | --------------- | ---------------- | ------------------------ | ------ | ------------ |
    | { to }          | { Button }       |                          |        |              |
    | { name }        | { InputCounter } |                          |        |              |
    | { price }       | {Container}      |                          |        |              |
    | {src}           | {ReactSVG}       |                          |        | `npm i react-svg`|
    | { icon }        | {Link}           |                          |        |`npm i react-router-dom`|
    | { description } |                  |                          |        |              |
    | { className }   |                  |                          |        |              |
    [ðŸ“’](#funcionamento)
3.  > <h3 id="footer">Footer</h3>

    | props | componentes   | funÃ§Ãµes | assets | dependÃªncias |
    | ----- | ------------- | ------- | ------ | ------------ |
    |       | { Logo }      |         |        |              |
    |       | { Container } |         |        |              |
    [ðŸ“’](#funcionamento)
4.  > <h3 id="header">Header</h3>

    | props           | componentes       | funÃ§Ãµes | assets | dependÃªncias |
    | --------------- | ----------------- | ------- | ------ | ------------ |
    | { onSearch }    | { HeaderDesktop } |         |        |              |
    | { onOpenMenu }  | { HeaderMobile }  |         |        |              |
    | { onCloseMenu } | { Menu }          |         |        |              |
    | {menuIsOpen}    |                   |         |        |              |
    [ðŸ“’](#funcionamento)
5.  > <h3 id="hdesktop">HeaderDesktop</h3>

    | props        | componentes   | funÃ§Ãµes     | assets      | dependÃªncias |
    | ------------ | ------------- | ----------- | ----------- | ------------ |
    | { onSearch } | { Container } | { useAuth } | exit        |              |
    |              | { Logo }      |             | iconReceipt |              |
    |              | { Search }    |             |             |              |
    |              | { Button }    |             |             |              |
    [ðŸ“’](#funcionamento)
6.  > <h3 id="hmobile">HeaderMobile</h3>

    | props          | componentes   | funÃ§Ãµes     | assets  | dependÃªncias |
    | -------------- | ------------- | ----------- | ------- | ------------ |
    | { onOpenMenu } | { Container } | { useAuth } | menu    |              |
    |                | { Logo }      |             | receipt |              |
    |                | { Buttons }   |             |         |              |
    [ðŸ“’](#funcionamento)
7.  > <h3 id="hyperlink">Hyperlink</h3>

    | props       | componentes   | funÃ§Ãµes | assets | dependÃªncias |
    | ----------- | ------------- | ------- | ------ | ------------ |
    | { title }   | { Container } |         |        |              |
    | { icon }    |               |         |        |              |
    | { to }      |               |         |        |              |
    | { onClick } |               |         |        |              |
    [ðŸ“’](#funcionamento)
8.  > <h3 id="ingredients">Ingredients</h3>

    | props       | componentes   | funÃ§Ãµes | assets | dependÃªncias      |
    | ----------- | ------------- | ------- | ------ | ----------------- |
    | { isNew }   | { Container } |         | plus   |                   |
    | { value }   | { ReactSVG }  |         | close  | `npm i react-svg` |
    | { onClick } |               |         |        |                   |
    | { ...rest } |               |         |        |                   |
    [ðŸ“’](#funcionamento)
9.  > <h3 id="input">Input</h3>

    | props           | componentes   | funÃ§Ãµes | assets | dependÃªncias |
    | --------------- | ------------- | ------- | ------ | ------------ |
    | { idContainer } | { Container } |         |        |              |
    | { title }       |               |         |        |              |
    | { placeholder } |               |         |        |              |
    | { id }          |               |         |        |              |
    | { type }        |               |         |        |              |
    | { onChange }    |               |         |        |              |
    | { icon }        |               |         |        |              |
    | { required }    |               |         |        |              |
    | { ...rest }     |               |         |        |              |
    [ðŸ“’](#funcionamento)
10. > <h3 id="icounter">inputCounter</h3>

    | props | componentes   | funÃ§Ãµes   | assets | dependÃªncias | hooks        |
    | ----- | ------------- | --------- | ------ | ------------ | ------------ |
    |       | { Container } | increment | minun  |              | { useState } |
    |       |               | decrement | plus   |              |              |
    [ðŸ“’](#funcionamento)
11. > <h3 id="logo">Logo</h3>

    | props | componentes   | funÃ§Ãµes | assets  | dependÃªncias | hooks |
    | ----- | ------------- | ------- | ------- | ------------ | ----- |
    | role  | { Container } |         | polygon |              |       |

12. > <h3 id="menu">Menu</h3>

    | props         | componentes   | funÃ§Ãµes         | assets      | dependÃªncias             | hooks |
    | ------------- | ------------- | --------------- | ----------- | ------------------------ | ----- |
    | {onSearch}    | { Container } | { useAuth }     | buttonClose |                          |       |
    | {id}          | { Header }    | { useNavigate } |             | `npm i react-router-dom` |       |
    | {menuIsOpen}  | { Footer }    | { useLocation } |             | `npm i react-router-dom` |       |
    | {onCloseMenu} | { Link }      |                 |             |                          |       |
    |               | { Search }    |                 |             |                          |       |
    |               | { Hyperlink } |                 |             |                          |       |
    [ðŸ“’](#funcionamento)
13. <h3 id="search">Search</h3>

    | props      | componentes     | funÃ§Ãµes     | assets     | dependÃªncias | hooks |
    | ---------- | --------------- | ----------- | ---------- | ------------ | ----- |
    | {onSearch} | { Container }   | { useAuth } | iconSearch |              |       |
    |            | { InputSearch } |             |            |              |       |
    |            | { Footer }      |             |            |              |       |
    |            | { Link }        |             |            |              |       |
    |            | { Search }      |             |            |              |       |
    |            | { Hyperlink }   |             |            |              |       |
    [ðŸ“’](#funcionamento)
14. > <h3 id="select">Select</h3>

    | props      | componentes   | funÃ§Ãµes | assets | dependÃªncias | hooks |
    | ---------- | ------------- | ------- | ------ | ------------ | ----- |
    | {onChange} | { Container } |         |        |              |       |
    | {...rest}  |               |         |        |              |       |
    [ðŸ“’](#funcionamento)
15. > <h3 id="slider">Slider</h3>

    | props    | componentes   | funÃ§Ãµes | assets   | dependÃªncias         | hooks |
    | -------- | ------------- | ------- | -------- | -------------------- | ----- |
    | {title}  | { Container } | {api}   | empty    |                      |       |
    | {dishes} | {Swiper}      |         | favorite | `npm install swiper` |       |
    | {role}   | {SwiperSlide} |         | edit     | `npm install swiper` |       |
    |          | {Pagination}  |         |          | `npm install swiper` |       |
    |          | {Navigation}  |         |          | `npm install swiper` |       |
    |          | {CardDish}    |         |          |                      |       |
    [ðŸ“’](#funcionamento)
16. > <h3 id="tags">Tags</h3>

    | props  | componentes   | funÃ§Ãµes | assets | dependÃªncias | hooks |
    | ------ | ------------- | ------- | ------ | ------------ | ----- |
    | {name} | { Container } |         |        |              |       |
    [ðŸ“’](#funcionamento)
17. > <h3 id="textarea">Textarea</h3>

    | props         | componentes   | funÃ§Ãµes | assets | dependÃªncias | hooks |
    | ------------- | ------------- | ------- | ------ | ------------ | ----- |
    | {id}          | { Container } |         |        |              |       |
    | {placeholder} |               |         |        |              |       |
    | {onChange}    |               |         |        |              |       |
    | {...rest}     |               |         |        |              |       |
    [ðŸ“’](#funcionamento)

- ## Estilos:
    
    + devideBreakPoints.js;
    + global.js | `npm install styled-components`;
    + theme.js.
    

- ## Rotas:
    
    + admin.routes.jsx;
    + auth.routes.jsx;
    + costumer.routes.jsx;
    + index.jsx.
    

- ## Service:
    
    + api.js.
    
- ## Hooks:
    
    + auth.jsx.
    
- ## Utils:
    
    + roles.js.
    

- ## Assets:
    
    + arrowLeft.svg;
    + close.svg; 
    + default-NewDishedit.svg; 
    + exit.svg;
    + favorite.svg; 
    + homeImg.svg, 
    + mobile.svg; 
    + minun.svg; 
    + plus.sv;
    + polygon.svg; 
    + react.svg; 
    + receipt.svg; 
    + search.svg; 
    + upload.svg.
    


<H1 id="funcionamento">Funcionamento ðŸ“’</H1>

<div style="text-align: justify">
O arquivo main.jsx, Ã© o responsÃ¡vel por renderizar toda a aplicaÃ§Ã£o. No centro desse arquivo existe &lt;Routes/&gt;, que tem o propÃ³sito de organizar o caminho a ser percorrido de acordo com as regras de acesso, verifica se existe usuÃ¡rio logado, caso nÃ£o exista, direciona para  &lt;AuthRoutes/&gt; onde o usuÃ¡rio pode entrar ou se cadastrar. Existindo, seu caminho Ã© direcionado de acordo com sua role (perfil de usuÃ¡rio) atravÃ©s da funÃ§Ã£o AccessRoute(), podendo ir para  &lt;AdminRoutes/&gt; ou  &lt;CostumerRoutes/&gt;. O  &lt;Routes/&gt; Ã© gerenciado no index.jsx da pasta routes e seu retorno estÃ¡ envolvido pelo &lt;BrowserRouter/&gt; que simplifica a execuÃ§Ã£o e navegaÃ§Ã£o, uma vez que utiliza o principio SPA.
Ainda no main.jsx o  &lt;Routes/&gt; estÃ¡ dentro do  &lt;AuthProvider&gt;, responsÃ¡vel de pela criaÃ§Ã£o dos contextos e por compartilhar dados entre os componentes (pai e filhos) numa mesma Ã¡rvore. AlÃ©m disso tambÃ©m estÃ¡ contido pelo  &lt;GlobalStyles&gt; que padroniza as regras de estilos globais para os elementos HTML, e por um objeto de tema (theme.js em styles/theme.js) que define sobre as cores utilizadas no projeto.

A navegaÃ§Ã£o inicia-se na pÃ¡gina de [&lt;SignIn&gt;](#signin), nela o usuÃ¡rio pode fazer login, preenchendo o formulÃ¡rio e confirmando no botÃ£o, ou seguir para pÃ¡gina de cadastro. O login ocorre atravÃ©s dos hooks useState (React) e da funÃ§Ã£o SignIn importado da &lt;useAuth&gt; que atravÃ©s da &lt;api&gt;, gerenciador de requisiÃ§Ãµes HTTP, pela rota post(/sessions) valida os dados do usuÃ¡rio.

A pÃ¡gina de cadastro [&lt;SignUp&gt;](#signup), possui um formulÃ¡rio com a mesma estrtutura da [&lt;SignIn&gt;](#signin), acrescentando um novo componente &lt;Input&gt; para nome. Aqui o usuÃ¡rio grava as informaÃ§Ãµes no banco atravÃ©s da rota post(/users), utilizando as hooks para guardar o estado. ApÃ³s o cadastro o usuÃ¡rio Ã© automaticamente redirecionado a pÃ¡gina [&lt;SignIn&gt;](#signin).

Ao entrar no site o usuÃ¡rio Ã© direcionado para pÃ¡gina [&lt;Home&gt;](#home), que Ã© a pÃ¡gina principal do site e renderiza a maioria dos componentes e redireciona o usuÃ¡rio pelas demais pÃ¡ginas. Nesta pÃ¡gina, com uso dos hooks useEffect (React) sÃ£o carregados do banco de dados todos os pratos existentes.

Os [&lt;HeaderDesktop&gt;](#hdesktop) e [&lt;HeaderMobile&gt;](#hmobile) alternam suas visibilidades de acordo com os BreakPoints definidos em styles/devideBreakPoints.js. Obedecendo as regras de mobile First. O componente [&lt;Menu&gt;](#menu) sÃ³ serÃ¡ exibido em dispositivos com telas menores que 768px (devideBreakPoints.MD) e sua visibilidade Ã© condicionada pelos estados e controlado pelas props onCloseMenu, onCloseMenu e menuIsOpen atraves de hooks useState.

O [&lt;HeaderDesktop&gt;](#hdesktop) Ã© responsÃ¡vel pelas buscas de pratos (por nome ou ingredientes) e por deslogar (funÃ§Ã£o signOut), jÃ¡ o [&lt;HeaderMobile&gt;](#hmobile) Ã© responsÃ¡vel por direiconar para os pedidos (milha extra - nÃ£o implementada, ainda) e pelo Menu lateral [&lt;Menu&gt;](#menu) que possui as mesmas funÃ§Ãµes do [&lt;HeaderDesktop&gt;](#hdesktop).

Para usuÃ¡rios comuns (roles = costumer) o [&lt;HeaderDesktop&gt;](#hdesktop); exibe um [&lt;Button&gt;](#button) de pedidos. Para usuÃ¡rios administradores (role = admin) exibe um [&lt;Button&gt;](#button) que direciona para criaÃ§Ã£o de "Novos pratos", assim como no [&lt;Menu&gt;](#menu) que so exibe a opÃ§Ã£o de "Novos pratos" para role = admin.

AlÃ©m desses componentes, a pÃ¡gina tem um banner de apresentaÃ§Ã£o, com uma arte e um texto descritivo 

A visualizaÃ§Ã£o dos pratos se dÃ¡ atravÃ©s dos componentes [&lt;Slider&gt;](#slider), que sÃ£o renderizados somente se houver resultados nas buscas dos hooks useEffect, que fazem requisiÃ§Ã£o ao banco atravÃ©s da rota get('/dishes'), para exibiÃ§Ã£o fixa e da rota `get('/dishes?name=${searchValue}')`, responsÃ¡vel pela busca de pratos especificos, caso a busca seja rendezidada a exibiÃ§Ã£o fixa Ã© "escondida" controlada por um useState (visible) e retorna quando a busca Ã© finalizada (input vazio).

O componente [&lt;CardDish&gt;](#card), renderiza os dados dos pratos (imagem, nome, preÃ§o, descriÃ§Ã£o) e direciona para pÃ¡gina [&lt;Details&gt;](#details), pela props 'to={`details/${dish.id}`}'.

Depenendo da role do usuÃ¡rio, alguns elementos sÃ£o exibidos, desctiption para 'admin' e [&lt;InputCounter&gt;](#icounter) com [&lt;Button&gt;](#button) para 'costumer'.

No [&lt;Slider&gt;](#slider) o icone do [&lt;CardDish&gt;](#card) Ã© controlado, tambÃ©m pela role, 'admin' exibe um icone 'edit' e 'costumer' exibe um Ã­cone 'favorite'.

A pÃ¡gina [&lt;Details&gt;](#details) Ã© responsÃ¡vel por exibir indivitualmente cada prato, essa exibiÃ§Ã£o ocorre pela correspondÃªncia do id vindo pelo parÃ¢metro da URL do elemento na rota '/details/id'. O hook useEffect busca atravÃ©s da requisiÃ§ao get(`dishes/${params.id}`), gera um array e renderiza o componente.

As pÃ¡ginas [&lt;NewDish&gt;](#newdish) e [&lt;EditDish&gt;](#editdish) possuem a mesma estrutura, com uma diferenÃ§a que a pÃ¡gina [&lt;EditDish&gt;](#editdish) tem um botÃ£o a mais, ficando responsÃ¡vel por salvar alteraÃ§Ãµes e excluir o prato.

A pÃ¡gina [&lt;NewDish&gt;](#newdish) utiliza os hooks useState para guadar os estados dos valores dos formulÃ¡rios, Ã© checado se cada componente estÃ¡ devidamente preenchido e atravÃ©s da requisiÃ§Ã£o `post("/dishes", formData, {headers: {"Content-Type": "multipart/form-data",},});` os dados sÃ£o inseridos no banco. Utilizamos o formData com multipart/form-data, para poder receber mais de um tipo de conteudo (texto, numero e imagem), o botÃ£o salvar tem a funÃ§Ã£o gravar os dados inserir no banco.

[&lt;EditDish&gt;](#editdish), quando carregada, preenche automÃ¡ticamente o formulÃ¡rio com os dados correspondentes ao id, o id tambÃ©m vem atravÃ©s dos parÃ¢metros da URL, o usuÃ¡rio edita os dados que julgar necessÃ¡rio e salva no banco.

Por fim, a pÃ¡gina [&lt;NotFound&gt;](#notfound) exibida sempre que o usuÃ¡rio tenta acessar uma rota inexisten.

</div>